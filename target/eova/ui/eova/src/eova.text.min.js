(function(b){TEXTBOX="textbox";b.fn.eovatext=function(a){var c=[];this.each(function(){var e=b.data(this,TEXTBOX);e?b.extend(e.options,a):(e=new d(this,a),e.render(),e.bindEvents());b.data(this,TEXTBOX,e);c.push(e)});return 1==c.length?c[0]:c};var d=b.fn.eovatext.TextBox=function(a,c){this.$dom=b(a);this.defaults={width:180,btnTitle:"\u70b9\u51fb\u6e05\u7a7a\u6587\u672c",btnIcon:"",isReadonly:!1,disable:!1,required:!1};this.options=b.extend({},this.defaults,b.getHtmlOptions(this),c);this.name=this.$dom.attr("name");this.$dom.removeAttr("name");this.value=this.$dom.attr("value");this.$dom.removeAttr("value");console.log(this.options)};d.prototype.render=function(){var a=b("\x3cinput type\x3d'text' autocomplete\x3d'off' /\x3e").appendTo(this.$dom),c=b("\x3ci class\x3d'ei'\x3e\x3c/i\x3e").appendTo(this.$dom);c.attr("title",this.options.btnTitle);this.name&&a.attr("name",this.name);this.value&&a.attr("value",this.value);this.options.placeholder&&a.attr("placeholder",this.options.placeholder);this.options.required&&a.attr("required","required");this.options.isReadonly&&(a.attr("readonly","readonly"),a.css("cursor","pointer"));this.options.disable&&this.$dom.mask();this.$textbox=a;this.$btn=c;this.setWidth(this.options.width)};d.prototype.bindEvents=function(){var a=this.$textbox;this.$btn.bind("click",function(){a.val("")})};d.prototype.getValue=function(){return this.$textbox.val()};d.prototype.setValue=function(a){this.$textbox.val(a)};d.prototype.getWidth=function(){return this.options.width+20};d.prototype.setWidth=function(a){this.$textbox.outerWidth(a-22)};d.prototype.readonly=function(a){a&&this.$textbox.attr("readonly",!0)}})(jQuery);